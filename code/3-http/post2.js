var request = require('request');

var assertion = 'eyJhbGciOiJSUzI1NiJ9.eyJwdWJsaWMta2V5Ijp7ImFsZ29yaXRobSI6IkRTIiwieSI6Ijg0ODU3ZDU4Y2Q0MDI5NjQyMGY0Njc0MzNhYWI0ZDNhOTg2OTZjNGJhMGUxYTVmMzJjM2JlZTkyYTkxNTExNjhjOGQ4MzJjZWJkMDgyNjRlMTM2NjYxODJjNWQ2NzMzMjc5MTVhYjQ1ZjgwZmQ5ZDQ5M2JmYzAxYjk5OTQ5OWU1NTQxODA3YzJjYmZiYTU1MzY2Zjg2ZjI2ODkwYzZhOGY2NDczYTlkMWMxMGJhOWYxNGQxYWQwNjE4MDQyMjk1MzE0YTY1MDc1M2I0ZmVhOTg4ZTFkYmI1YjRlNDcwYTBjMzNlMWIyZTM2ZTFjZjBiNTdhMWEzODkwZDM2NThmMSIsInAiOiJmZjYwMDQ4M2RiNmFiZmM1YjQ1ZWFiNzg1OTRiMzUzM2Q1NTBkOWYxYmYyYTk5MmE3YThkYWE2ZGMzNGY4MDQ1YWQ0ZTZlMGM0MjlkMzM0ZWVlYWFlZmQ3ZTIzZDQ4MTBiZTAwZTRjYzE0OTJjYmEzMjViYTgxZmYyZDVhNWIzMDVhOGQxN2ViM2JmNGEwNmEzNDlkMzkyZTAwZDMyOTc0NGE1MTc5MzgwMzQ0ZTgyYTE4YzQ3OTMzNDM4Zjg5MWUyMmFlZWY4MTJkNjljOGY3NWUzMjZjYjcwZWEwMDBjM2Y3NzZkZmRiZDYwNDYzOGMyZWY3MTdmYzI2ZDAyZTE3IiwicSI6ImUyMWUwNGY5MTFkMWVkNzk5MTAwOGVjYWFiM2JmNzc1OTg0MzA5YzMiLCJnIjoiYzUyYTRhMGZmM2I3ZTYxZmRmMTg2N2NlODQxMzgzNjlhNjE1NGY0YWZhOTI5NjZlM2M4MjdlMjVjZmE2Y2Y1MDhiOTBlNWRlNDE5ZTEzMzdlMDdhMmU5ZTJhM2NkNWRlYTcwNGQxNzVmOGViZjZhZjM5N2Q2OWUxMTBiOTZhZmIxN2M3YTAzMjU5MzI5ZTQ4MjliMGQwM2JiYzc4OTZiMTViNGFkZTUzZTEzMDg1OGNjMzRkOTYyNjlhYTg5MDQxZjQwOTEzNmM3MjQyYTM4ODk1YzlkNWJjY2FkNGYzODlhZjFkN2E0YmQxMzk4YmQwNzJkZmZhODk2MjMzMzk3YSJ9LCJwcmluY2lwYWwiOnsiZW1haWwiOiJvcmVuZ29sYW5AZ21haWwuY29tIn0sImlhdCI6MTM0MDQ5NjI0ODI3MywiZXhwIjoxMzQwNDk5ODQ4MjczLCJpc3MiOiJicm93c2VyaWQub3JnIn0.F456MEWyr1rVMOXM3OnJvu5GzLDXxX5mtjFdYV0deIV9kjPYqmEFAZoW7VQMD0A6wlKGPcMFZexRmXCILHmOcaDVoWLoD6--pqhquSXbLn004Kzx4aoqV0ncdL9-KJgJ9s6TzC8EltfT8GLgPByu6wt2594-gg7RQxjBTi6os-ituGDciZSfwdImyoYyzfnhNpm9rAxDTmi0_YXdj0BqXDtA2PLsANyrFWrM529nO8zGoDWcpVj3EUFwp1FncLf4rhQ1lHwwnSpjhkOvelrDcfEYoWLbxuYzR6SoVJDzNtUyj5S5NWsrfHd-nwVtfIkFbjUte_LF5Ixy67Wy0OkW7A~eyJhbGciOiJEUzEyOCJ9.eyJleHAiOjEzNDA0OTg5OTk0MzgsImF1ZCI6Imh0dHA6Ly8wLjAuMC4wOjMwMDAifQ.u2wmAAGKxl31vdIrjhx6R7L2M40a34oAZ59at963LITIYtw0RTPlnw';

var options = {
  'method' : 'POST',
  'uri' : 'https://browserid.org/verify',
  'body' : 'assertion='+ assertion + '&audience=0.0.0.0',
  'headers' : {
    'content-type' : 'application/x-www-form-urlencoded'
  }
};

request(options, function (error, response, body) {
  if (!error && response.statusCode == 200) {
    console.log('body', body) 
  } else {
    console.log('body', body);
  }
})

